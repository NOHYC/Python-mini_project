from bs4 import BeautifulSoup
import time
import pandas as pd
from selenium import webdriver
driver = webdriver.Chrome("c:/chromedriver/chromedriver.exe")
url = "https://www.yr.no/sted/S%C3%B8r-Korea/Seoul/Seoul/time_for_time.html"
driver.get(url)
html = driver.page_source
time.sleep(3)
soup = BeautifulSoup(html,"html.parser")
main = soup.select("div>table.yr-table.yr-table-hourly.yr-content-stickynav-half.left.yr-popup-area")

date =[]
for day in range(3):
    num = len(main[day].select("td.temperature.plus"))
    for hr in range(num):
        
        time = main[day].select("td>strong")[hr].text.split()[1] # 남은 시간
        weth = main[day].select("svg>image")[hr].attrs['alt'].strip() # 날씨
        if weth =='Skyet.':
            weth = '흐림'
        elif weth == 'Light rain.':
            weth ='약간 비'
        elif weth == 'Light rain showers.':
            weth = '약한 소나기'
        elif weth == 'Rain.':
            weth = '비'
        elif weth == 'Heavy rain.':
            weth ='폭우'
        elif weth == 'Lett regn.':
            weth = '약한비'
        elif weth =='Regn.':
            weth = '비'
        temp =main[day].select("td.temperature.plus")[hr].text
        date.append([time,weth,temp])
# print(date)


pd.DataFrame(data = date,columns =['시각','날씨','기온'])
